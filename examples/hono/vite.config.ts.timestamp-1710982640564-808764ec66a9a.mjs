// vite.config.ts
import pages from "file:///Users/t/$/glre/node_modules/@hono/vite-cloudflare-pages/dist/index.js";
import honox from "file:///Users/t/$/glre/node_modules/honox/dist/vite/index.js";
import { defineConfig } from "file:///Users/t/$/glre/examples/hono/node_modules/vite/dist/node/index.js";
import { getPlatformProxy } from "file:///Users/t/$/glre/node_modules/wrangler/wrangler-dist/cli.js";
var vite_config_default = defineConfig(async ({ mode }) => {
  console.log(mode);
  if (mode === "client") {
    return {
      build: {
        rollupOptions: {
          input: [
            "./app/client.ts",
            "./app/style.css"
          ],
          output: {
            entryFileNames: "static/client.js",
            chunkFileNames: "static/assets/[name]-[hash].js",
            assetFileNames: "static/assets/[name].[ext]"
          }
        }
      }
    };
  } else {
    const { env, dispose } = await getPlatformProxy();
    return {
      server: {
        watch: {
          ignored: [/\.wrangler/, /\.mf/]
        }
      },
      ssr: {
        external: ["react", "react-dom"]
      },
      plugins: [
        honox({
          devServer: {
            env,
            plugins: [
              {
                onServerClose: dispose
              }
            ]
          }
        }),
        pages()
      ]
    };
  }
});
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCIvVXNlcnMvdC8kL2dscmUvZXhhbXBsZXMvaG9ub1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiL1VzZXJzL3QvJC9nbHJlL2V4YW1wbGVzL2hvbm8vdml0ZS5jb25maWcudHNcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfaW1wb3J0X21ldGFfdXJsID0gXCJmaWxlOi8vL1VzZXJzL3QvJC9nbHJlL2V4YW1wbGVzL2hvbm8vdml0ZS5jb25maWcudHNcIjtpbXBvcnQgcGFnZXMgZnJvbSAnQGhvbm8vdml0ZS1jbG91ZGZsYXJlLXBhZ2VzJ1xuaW1wb3J0IGhvbm94IGZyb20gJ2hvbm94L3ZpdGUnXG5pbXBvcnQgeyBkZWZpbmVDb25maWcgfSBmcm9tICd2aXRlJ1xuaW1wb3J0IHsgZ2V0UGxhdGZvcm1Qcm94eSB9IGZyb20gJ3dyYW5nbGVyJ1xuXG4vLyBAdHMtaWdub3JlXG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb25maWcoYXN5bmMgKHsgbW9kZSB9KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKG1vZGUpXG4gICAgICAgIGlmIChtb2RlID09PSAnY2xpZW50Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWlsZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xsdXBPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcuL2FwcC9jbGllbnQudHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJy4vYXBwL3N0eWxlLmNzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5RmlsZU5hbWVzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdGljL2NsaWVudC5qcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVua0ZpbGVOYW1lczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXRpYy9hc3NldHMvW25hbWVdLVtoYXNoXS5qcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NldEZpbGVOYW1lczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXRpYy9hc3NldHMvW25hbWVdLltleHRdJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBlbnYsIGRpc3Bvc2UgfSA9IGF3YWl0IGdldFBsYXRmb3JtUHJveHkoKVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXRjaDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZWQ6IFsvXFwud3JhbmdsZXIvLCAvXFwubWYvXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzc3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZXJuYWw6IFsncmVhY3QnLCAncmVhY3QtZG9tJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob25veCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2U2VydmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW5zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlcnZlckNsb3NlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgc3NyOiB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGV4dGVybmFsOiBbJ3JlYWN0JywgJ3JlYWN0LWRvbSddLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHBsdWdpbnM6IFtob25veCgpLCBwYWdlcygpXSxcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgIH1cbn0pXG4iXSwKICAibWFwcGluZ3MiOiAiO0FBQXlRLE9BQU8sV0FBVztBQUMzUixPQUFPLFdBQVc7QUFDbEIsU0FBUyxvQkFBb0I7QUFDN0IsU0FBUyx3QkFBd0I7QUFHakMsSUFBTyxzQkFBUSxhQUFhLE9BQU8sRUFBRSxLQUFLLE1BQU07QUFDeEMsVUFBUSxJQUFJLElBQUk7QUFDaEIsTUFBSSxTQUFTLFVBQVU7QUFDZixXQUFPO0FBQUEsTUFDQyxPQUFPO0FBQUEsUUFDQyxlQUFlO0FBQUEsVUFDUCxPQUFPO0FBQUEsWUFDQztBQUFBLFlBQ0E7QUFBQSxVQUNSO0FBQUEsVUFDQSxRQUFRO0FBQUEsWUFDQSxnQkFDUTtBQUFBLFlBQ1IsZ0JBQ1E7QUFBQSxZQUNSLGdCQUNRO0FBQUEsVUFDaEI7QUFBQSxRQUNSO0FBQUEsTUFDUjtBQUFBLElBQ1I7QUFBQSxFQUNSLE9BQU87QUFDQyxVQUFNLEVBQUUsS0FBSyxRQUFRLElBQUksTUFBTSxpQkFBaUI7QUFFaEQsV0FBTztBQUFBLE1BQ0MsUUFBUTtBQUFBLFFBQ0EsT0FBTztBQUFBLFVBQ0MsU0FBUyxDQUFDLGNBQWMsTUFBTTtBQUFBLFFBQ3RDO0FBQUEsTUFDUjtBQUFBLE1BQ0EsS0FBSztBQUFBLFFBQ0csVUFBVSxDQUFDLFNBQVMsV0FBVztBQUFBLE1BQ3ZDO0FBQUEsTUFDQSxTQUFTO0FBQUEsUUFDRCxNQUFNO0FBQUEsVUFDRSxXQUFXO0FBQUEsWUFDSDtBQUFBLFlBQ0EsU0FBUztBQUFBLGNBQ0Q7QUFBQSxnQkFDUSxlQUNRO0FBQUEsY0FDaEI7QUFBQSxZQUNSO0FBQUEsVUFDUjtBQUFBLFFBQ1IsQ0FBQztBQUFBLFFBQ0QsTUFBTTtBQUFBLE1BQ2Q7QUFBQSxJQUNSO0FBQUEsRUFPUjtBQUNSLENBQUM7IiwKICAibmFtZXMiOiBbXQp9Cg==
